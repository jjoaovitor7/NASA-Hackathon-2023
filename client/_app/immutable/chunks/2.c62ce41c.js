import{_ as k}from"./preload-helper.a4192956.js";import{s as H,n as N,o as x,f as le,i as re,b as ie}from"./scheduler.1aad8c3d.js";import{S as G,i as B,g as C,h as T,j as b,f,k as h,l as L,a as q,z as ue,A as Z,r as $,s as z,u as ee,c as U,x as ce,y as w,v as te,B as de,d as ne,t as ae,w as oe,C as _e}from"./index.2e1bebd2.js";function K(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}const qe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));const Me=/[a-zA-Z]/,De=(n,t)=>{if(n[0]==="#"&&(n=n.slice(1)),n.length===3){let e="";n.split("").forEach(s=>{e+=s,e+=s}),n=e}return`rgba(${(n.match(/.{2}/g)||[]).map(e=>parseInt(e,16)).join(", ")}, ${t})`},W=(n,t=0)=>[...Array(n).keys()].map(o=>o+t);function J(n,t,o){const e=n.slice();return e[5]=t[o],e}function Y(n){let t;return{c(){t=C("div"),this.h()},l(o){t=T(o,"DIV",{class:!0}),b(t).forEach(f),this.h()},h(){h(t,"class","border "+n[5]+" svelte-kxapcj"),Z(t,"pause-animation",n[4])},m(o,e){q(o,t,e)},p(o,e){e&16&&Z(t,"pause-animation",o[4])},d(o){o&&f(t)}}}function fe(n){let t,o=K(W(2,1)),e=[];for(let s=0;s<o.length;s+=1)e[s]=Y(J(n,o,s));return{c(){t=C("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=T(s,"DIV",{class:!0,style:!0});var r=b(t);for(let a=0;a<e.length;a+=1)e[a].l(r);r.forEach(f),this.h()},h(){h(t,"class","wrapper svelte-kxapcj"),L(t,"--size",n[3]+n[1]),L(t,"--color",n[0]),L(t,"--duration",n[2])},m(s,r){q(s,t,r);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null)},p(s,[r]){if(r&16){o=K(W(2,1));let a;for(a=0;a<o.length;a+=1){const d=J(s,o,a);e[a]?e[a].p(d,r):(e[a]=Y(d),e[a].c(),e[a].m(t,null))}for(;a<e.length;a+=1)e[a].d(1);e.length=o.length}r&10&&L(t,"--size",s[3]+s[1]),r&1&&L(t,"--color",s[0]),r&4&&L(t,"--duration",s[2])},i:N,o:N,d(s){s&&f(t),ue(e,s)}}}function pe(n,t,o){let{color:e="#FF3E00"}=t,{unit:s="px"}=t,{duration:r="2s"}=t,{size:a="60"}=t,{pause:d=!1}=t;return n.$$set=c=>{"color"in c&&o(0,e=c.color),"unit"in c&&o(1,s=c.unit),"duration"in c&&o(2,r=c.duration),"size"in c&&o(3,a=c.size),"pause"in c&&o(4,d=c.pause)},[e,s,r,a,d]}class me extends G{constructor(t){super(),B(this,t,pe,fe,H,{color:0,unit:1,duration:2,size:3,pause:4})}}function ge(n){let t,o,e,s,r,a,d="Resetar visÃ£o",c,v,m,l,_,g;return e=new me({props:{color:"#000",size:128}}),{c(){t=C("section"),o=C("div"),$(e.$$.fragment),s=z(),r=C("div"),a=C("button"),a.textContent=d,c=z(),v=C("div"),m=C("div"),this.h()},l(u){t=T(u,"SECTION",{class:!0});var i=b(t);o=T(i,"DIV",{id:!0,class:!0});var A=b(o);ee(e.$$.fragment,A),A.forEach(f),s=U(i),r=T(i,"DIV",{class:!0});var y=b(r);a=T(y,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ce(a)!=="svelte-1qrg7lq"&&(a.textContent=d),y.forEach(f),c=U(i),v=T(i,"DIV",{id:!0,class:!0});var E=b(v);m=T(E,"DIV",{}),b(m).forEach(f),E.forEach(f),i.forEach(f),this.h()},h(){h(o,"id","loader"),h(o,"class","center position-absolute"),h(a,"id","btn-resetview"),h(a,"class","my-2 svelte-1wyb1ib"),h(r,"class","d-flex justify-content-end"),h(v,"id","leaflet-map"),h(v,"class","svelte-1wyb1ib"),h(t,"class","position-relative")},m(u,i){q(u,t,i),w(t,o),te(e,o,null),w(t,s),w(t,r),w(r,a),w(t,c),w(t,v),w(v,m),n[2](m),l=!0,_||(g=de(a,"click",function(){re(n[0].setView([-10.9092,-37.0745],13.4))&&n[0].setView([-10.9092,-37.0745],13.4).apply(this,arguments)}),_=!0)},p(u,[i]){n=u},i(u){l||(ne(e.$$.fragment,u),l=!0)},o(u){ae(e.$$.fragment,u),l=!1},d(u){u&&f(t),oe(e),n[2](null),_=!1,g()}}}function he(n,t,o){let e,{data:s}=t;x(async()=>{const a=await k(()=>import("./leaflet-src.20dcb89b.js").then(l=>l.l),["./leaflet-src.20dcb89b.js","./_commonjsHelpers.725317a4.js"],import.meta.url),d=await k(()=>import("./leaflet.markercluster-src.c9c19542.js").then(l=>l.l),["./leaflet.markercluster-src.c9c19542.js","./_commonjsHelpers.725317a4.js"],import.meta.url);(await k(()=>import("./index.0ee42628.js"),["./index.0ee42628.js","./scheduler.1aad8c3d.js","./index.2e1bebd2.js"],import.meta.url)).RingLoader,o(0,e=a.map("leaflet-map")),e.setView([-10.9092,-37.0745],13.4),a.Map.addInitHook(function(){var l;((l=a==null?void 0:a.Map)==null?void 0:l.container)!==void 0&&(a.Map.container._L_map=e)}),a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e);const c=a.Icon.extend({options:{iconSize:[16,28],iconAnchor:[16,28],shadowAnchor:[16,28],popupAnchor:[-8,-40]}}),v=new c({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});let m=new d.MarkerClusterGroup;s.forEach((l,_)=>{["Site ID","GEO/Terra/Aqua Satellite Match Table","CALIPSO Satellite Match Table","Ground Image Up","Ground Image Down","Ground Image North","Ground Image South","Ground Image East","Ground Image West","Observation Id","Observation Elevation","Altocumulus","Stratocumulus","Cumulonimbus","Fog","Smoke","Haze","Volcanic Ash","Dust","Sand","Spray","Heavy Snow","Blowing Snow","Surface Snow/Ice","Cirrocumulus","GEO Snow","GEO Low Ice","GEO Longitude","GEO Latitude","Is GLOBE Trained","is Citizen Science","Terra Satellite","Terra Longitude","Terra Latitude","Terra Date","Terra Time","Terra Total Cloud Cover","Terra Low Cloud Altitude","Terra Low Cloud Opt","Terra Low Cloud Cover","Terra Low Cloud Phase","Terra Low Cloud Temp (K)","Terra Mid Cloud Altitude","Terra Mid Cloud Opt","Terra Mid Cloud Cover","Terra Mid Cloud Phase","Terra Mid Cloud Temp (K)","Terra High Cloud Altitude","Terra High Cloud Opt","Terra High Cloud Cover","Terra High Cloud Phase","Terra High Cloud Temp (K)","Terra Vzen","Terra Szen","Terra Wind","Terra Snow","Terra Ocean","Aqua Satellite","Aqua Longitude","Aqua Latitude","Aqua Date","Aqua Time","Aqua Total_Cloud_Cover","Aqua Low Cloud Altitude","Aqua Low Cloud Opt","Aqua Low Cloud Cover","Aqua Low Cloud Phase","Aqua Low Cloud Temp (K)","Aqua Mid Cloud Altitude","Aqua Mid Cloud Opt","Aqua Mid Cloud Cover","Aqua Mid Cloud Phase","Aqua Mid Cloud Temp (K)","Aqua High Cloud Altitude","Aqua High Cloud Opt","Aqua High Cloud Cover","Aqua High Cloud Phase","Aqua High Cloud Temp (K)","Aqua Sat Vzen","Aqua Sat Szen","Aqua Wind","Aqua Snow","Aqua Ocean"].forEach(i=>delete l[i]);const g=Object.keys(l),u=a.popup().setContent(g.map(i=>`<p>${i}: ${l[i]}</p>`).toString().replaceAll(",",""));a.marker([parseFloat(l["Observation Latitude"]),parseFloat(l["Observation Longitude"])],{icon:v}).addTo(m).bindPopup(u),m.addTo(e)}),document.getElementById("loader").remove(),document.getElementById("leaflet-map").style.filter="unset",e.touchZoom.disable(),e.doubleClickZoom.disable(),e.scrollWheelZoom.disable(),e.boxZoom.disable(),e.keyboard.disable(),e.dragging.disable(),e.removeControl(e.zoomControl)}),le(async()=>{e&&(console.log("Unloading Leaflet map."),e.remove())});function r(a){ie[a?"unshift":"push"](()=>{e=a,o(0,e)})}return n.$$set=a=>{"data"in a&&o(1,s=a.data)},[e,s,r]}class ve extends G{constructor(t){super(),B(this,t,he,ge,H,{data:1})}}var Q={},R={},V=34,I=10,P=13;function se(n){return new Function("d","return {"+n.map(function(t,o){return JSON.stringify(t)+": d["+o+'] || ""'}).join(",")+"}")}function ye(n,t){var o=se(n);return function(e,s){return t(o(e),s,n)}}function X(n){var t=Object.create(null),o=[];return n.forEach(function(e){for(var s in e)s in t||o.push(t[s]=s)}),o}function p(n,t){var o=n+"",e=o.length;return e<t?new Array(t-e+1).join(0)+o:o}function Ce(n){return n<0?"-"+p(-n,6):n>9999?"+"+p(n,6):p(n,4)}function Te(n){var t=n.getUTCHours(),o=n.getUTCMinutes(),e=n.getUTCSeconds(),s=n.getUTCMilliseconds();return isNaN(n)?"Invalid Date":Ce(n.getUTCFullYear())+"-"+p(n.getUTCMonth()+1,2)+"-"+p(n.getUTCDate(),2)+(s?"T"+p(t,2)+":"+p(o,2)+":"+p(e,2)+"."+p(s,3)+"Z":e?"T"+p(t,2)+":"+p(o,2)+":"+p(e,2)+"Z":o||t?"T"+p(t,2)+":"+p(o,2)+"Z":"")}function Ae(n){var t=new RegExp('["'+n+`
\r]`),o=n.charCodeAt(0);function e(l,_){var g,u,i=s(l,function(A,y){if(g)return g(A,y-1);u=A,g=_?ye(A,_):se(A)});return i.columns=u||[],i}function s(l,_){var g=[],u=l.length,i=0,A=0,y,E=u<=0,S=!1;l.charCodeAt(u-1)===I&&--u,l.charCodeAt(u-1)===P&&--u;function F(){if(E)return R;if(S)return S=!1,Q;var D,j=i,O;if(l.charCodeAt(j)===V){for(;i++<u&&l.charCodeAt(i)!==V||l.charCodeAt(++i)===V;);return(D=i)>=u?E=!0:(O=l.charCodeAt(i++))===I?S=!0:O===P&&(S=!0,l.charCodeAt(i)===I&&++i),l.slice(j+1,D-1).replace(/""/g,'"')}for(;i<u;){if((O=l.charCodeAt(D=i++))===I)S=!0;else if(O===P)S=!0,l.charCodeAt(i)===I&&++i;else if(O!==o)continue;return l.slice(j,D)}return E=!0,l.slice(j,u)}for(;(y=F())!==R;){for(var M=[];y!==Q&&y!==R;)M.push(y),y=F();_&&(M=_(M,A++))==null||g.push(M)}return g}function r(l,_){return l.map(function(g){return _.map(function(u){return m(g[u])}).join(n)})}function a(l,_){return _==null&&(_=X(l)),[_.map(m).join(n)].concat(r(l,_)).join(`
`)}function d(l,_){return _==null&&(_=X(l)),r(l,_).join(`
`)}function c(l){return l.map(v).join(`
`)}function v(l){return l.map(m).join(n)}function m(l){return l==null?"":l instanceof Date?Te(l):t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:e,parseRows:s,format:a,formatBody:d,formatRows:c,formatRow:v,formatValue:m}}var we=Ae(","),be=we.parse;function Ee(n){let t,o,e,s,r;return s=new ve({props:{data:n[0]}}),{c(){t=C("meta"),o=z(),e=C("div"),$(s.$$.fragment),this.h()},l(a){const d=_e("svelte-29gkij",document.head);t=T(d,"META",{name:!0,content:!0}),d.forEach(f),o=U(a),e=T(a,"DIV",{class:!0});var c=b(e);ee(s.$$.fragment,c),c.forEach(f),this.h()},h(){document.title="Home",h(t,"name","description"),h(t,"content","AjuStats"),h(e,"class","container")},m(a,d){w(document.head,t),q(a,o,d),q(a,e,d),te(s,e,null),r=!0},p(a,[d]){const c={};d&1&&(c.data=a[0]),s.$set(c)},i(a){r||(ne(s.$$.fragment,a),r=!0)},o(a){ae(s.$$.fragment,a),r=!1},d(a){a&&(f(o),f(e)),f(t),oe(s)}}}function Se(n,t,o){let{data:e=[]}=t;return x(async()=>{let s=await Object.assign({"../../public/data.csv":()=>k(()=>import("./data.f1bea5cd.js"),[],import.meta.url).then(d=>d.default)}),r=Object.keys(s),a=be(await s[r[0]]());o(0,e=a)}),n.$$set=s=>{"data"in s&&o(0,e=s.data)},[e]}class je extends G{constructor(t){super(),B(this,t,Se,Ee,H,{data:0})}}export{je as P,me as R,qe as _,De as c,Me as d,K as e,W as r};
